<%= tag.div(**html_attributes) do %>
  <div class="tree" data-invisible="<%= !item.visible? %>">
    <div role="toolbar" data-tree-accordion-controls>
      <span role="button" value="collapse" data-action="click->content--editor--container#collapse" title="Collapse tree"></span>
      <span role="button" value="expand" data-action="click->content--editor--container#expand" title="Expand tree"></span>
    </div>

    <span role="img" value="<%= item.model_name.param_key %>" title="Type"></span>
    <h4 class="heading" title="<%= item.heading %>"><%= item.heading %></h4>
    <span role="img" value="invisible" title="Hidden"></span>
  </div>

  <div class="item-background <%= item.background %>"></div>

  <div role="toolbar" data-tree-controls>
    <span role="button" value="de-nest" data-action="click->content--editor--container#deNest" title="Outdent"></span>
    <span role="button" value="nest" data-action="click->content--editor--container#nest" title="Indent"></span>
    <%= kpop_link_to("", edit_item_link, role: "button", title: "Edit", value: "edit") %>
    <span role="button" value="remove" data-action="click->content--editor--container#remove" title="Remove"></span>
  </div>

  <input autocomplete="off" type="hidden" name="<%= attributes_scope %>[id]" value="<%= item.id %>">
  <input autocomplete="off" type="hidden" name="<%= attributes_scope %>[depth]" value="<%= item.depth %>">
  <input autocomplete="off" type="hidden" name="<%= attributes_scope %>[index]" value="<%= item.index %>">
<% end %>
